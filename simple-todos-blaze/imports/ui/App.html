<body>
  {{> mainContainer}}
</body>

<template name="mainContainer">
  <div class="app">
    <header>
      <h1 class="marginLeft40 card-header">ShopApp</h1>
    </header>
    <div class="main">
      {{> form }}
      <ul class="products">
        <h2>Catalog</h2>
        {{#each getProducts}}
        <div class="product">
          <div class="productName">
            <div>Product name: {{productName}}</div>
            <div>Stock: {{productStock}}</div>
          </div>
          <button class="addToCart" disabled="{{isDisabled}}">
            Add to cart
          </button>
        </div>
        {{/each}}
      </ul>
      {{> cart}}
    </div>
  </div>
</template>

<template name="form">
  <h2 class="marginLeft40">Add products to database</h2>
  <form class="productForm">
    <input
      type="text"
      maxlength="30"
      class="addProductInput"
      placeholder="New product name"
    />
    <input type="number" min="0" class="addProductInput" placeholder="Stock" />
    <button class="addProduct">Add Product</button>
  </form>
</template>

<template name="cart">
  <h2 class="marginLeft40">Cart</h2>
  {{#if getUserCartLength}}
  <div class="products">
    {{#each getUserCart}}
    <div class="product flexDirectionColumn">
      <div>Product name: {{productName}}</div>
      <div>Quantity: {{quantity}}</div>
    </div>
    {{/each}}
    <div class="buyNowContainer">
      <button class="buyNow">BUY NOW!</button>
    </div>
  </div>
  {{else}}
  <h5 class="marginLeft40 cartEmpty">Add an item to your Cart.</h5>
  {{/if}}
</template>
